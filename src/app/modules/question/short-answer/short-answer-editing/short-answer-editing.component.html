<div class="question-group">
  <div class="form-group">
    @if (isEditing) {
      <angular-editor
        [name]="question.id"
        [config]="config"
        [(ngModel)]="question.content"
        (ngModelChange)="onPaste($event)"
      ></angular-editor>
    } @else {
      <span [innerHTML]="question.content"></span>
    }
  </div>
  <div class="mt-3">
    @for (choice of question.choices; track $index) {
      @if (isEditing) {
        <div class="d-flex align-items-center mt-2">
          <textarea
            class="col-5"
            autocomplete="off"
            [name]="$index.toString()"
            type="text"
            [(ngModel)]="choice.index"
          ></textarea>
          <textarea
            class="col-5 ms-2"
            autocomplete="off"
            [name]="choice.id"
            type="text"
            [(ngModel)]="choice.correctAnswer"
          ></textarea>
          <button
            mat-button
            color="warn"
            class="ms-2"
            (click)="removeChoice($index)"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      } @else {
        <p class="answer-input">
          <b>{{ choice.index }}&nbsp;</b>
          <span class="correct-answer">
              {{ choice.correctAnswer }}
            </span>
        </p>
      }
    }
  </div>
  <button
    mat-raised-button
    type="button"
    style="margin-top: 16px"
    (click)="addChoice()"
  >
    <mat-icon>add</mat-icon>
    Answer
  </button>
</div>
